<div class="reviews-list-container">
  <h2 class="text-center mb-4">Reviews</h2>

  <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
    <ng-container matColumnDef="reviewText">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Review</th>
      <td mat-cell *matCellDef="let review">{{ review.reviewText }}</td>
    </ng-container>

    <ng-container matColumnDef="movieTitle">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Movie Title</th>
      <td mat-cell *matCellDef="let review">
        <a [routerLink]="['/movies', review.movie.id]">{{
          review.movie.title
        }}</a>
      </td>
    </ng-container>

    <ng-container matColumnDef="description">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Description</th>
      <td mat-cell *matCellDef="let review">{{ review.movie.description }}</td>
    </ng-container>

    <ng-container matColumnDef="averageRating">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Average Rating</th>
      <td mat-cell *matCellDef="let review">
        {{ review.movie.averageRating }}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>

  <mat-paginator
    [pageSizeOptions]="[5, 10, 20]"
    showFirstLastButtons
  ></mat-paginator>

  <div
    *ngIf="!dataSource || dataSource.data.length === 0"
    class="text-center mt-4"
  >
    No reviews to show.
  </div>
</div>
